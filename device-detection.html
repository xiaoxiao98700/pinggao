<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºé€‰æ–¹æ¡ˆ - è®¾å¤‡æ£€æµ‹</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="header">
        <div class="header-left">
            <button class="btn-collapse">Â«</button>
            <div class="logo">æ™ºé€‰æ–¹æ¡ˆ</div>
        </div>
        <div class="header-right">
            <div class="company-info">æ²³å—å¹³é«˜ç”µæ°”è‚¡ä»½æœ‰é™å…¬å¸</div>
            <button class="btn-switch">åˆ‡æ¢ä¼ä¸šå·¥ä½œå°</button>
            <div class="header-icons">
                <span class="icon">ğŸ”</span>
                <span class="icon">ğŸ’¬</span>
                <span class="icon">ğŸ””</span>
                <div class="dropdown">
                    <span class="dropdown-trigger">å¹³é«˜ â–¼</span>
                </div>
                <span class="icon">â‹¯</span>
            </div>
            <button class="btn-collapse">Â»</button>
        </div>
    </header>

    <div class="container">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <aside class="sidebar">
            <div class="sidebar-title">æ™ºé€‰æ–¹æ¡ˆ</div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item">å®¢æˆ·æ¡£æ¡ˆ</a>
                <a href="index.html" class="nav-item">é¡¹ç›®ç®¡ç†</a>
                <a href="selection-report.html" class="nav-item">é€‰å‹æŠ¥è¡¨</a>
                <a href="#" class="nav-item">é€‰å‹è§„åˆ™</a>
                <a href="#" class="nav-item">ç”µä»·æ—¶æ®µé…ç½®</a>
                <a href="#" class="nav-item">è®¾å¤‡å…¨æ™¯æ™ºæ§</a>
                <a href="device-detection.html" class="nav-item active">è®¾å¤‡æ£€æµ‹</a>
            </nav>
        </aside>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content device-main-wrapper">
            <!-- å†…å®¹åŒºï¼šå·¦å³ä¸¤éƒ¨åˆ† -->
            <div class="device-content-wrapper">
                <!-- å·¦ä¾§ï¼šåŠŸèƒ½ä½ç½® -->
                <aside class="device-sidebar">
                    <div class="device-sidebar-title">åŠŸèƒ½ä½ç½®</div>
                    <div class="device-project-list">
                        <div class="device-project-item expanded">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¼</span>
                                <span class="device-project-name">å¤©é‚¦é…’ä¸š</span>
                            </div>
                            <div class="device-project-children">
                                <div class="device-device-item" data-device-id="tianbang-boiler" data-device-name="ç”µæå¼è’¸æ±½é”…ç‚‰">ç”µæå¼è’¸æ±½é”…ç‚‰</div>
                                <div class="device-device-item active" data-device-id="tianbang-heat-tank" data-device-name="å¤©é‚¦è“„çƒ­ç½">å¤©é‚¦è“„çƒ­ç½</div>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">æ²»å¤šä¾›æš–é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">è¿ˆç‘åŒ»ç–—é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">å¹³é¡¶å±±å°¼é¾™å›­é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">å°šä¹‰å¿ä¾›çƒ­æ”¹é€ é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">èµ¤å³°å¤§è™å°é£ç”µåœºé¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">æ–°ç–†æ˜Œå‰é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">ç§‘æ—é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">å“ˆå¯†é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">å¹³é«˜ç”µæ°”é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">ä¸œéƒ¨æŠ•èµ„é¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">å‡æµ©æ•¦ç…Œé¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">ä¸Šæµ·æµ¦ä¸œé¡¹ç›®</span>
                            </div>
                        </div>
                        <div class="device-project-item">
                            <div class="device-project-header">
                                <span class="device-project-toggle">â–¶</span>
                                <span class="device-project-name">æ–°ç–†ä¸­ç”µé¡¹ç›®</span>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- å³ä¾§ï¼šé¡µç­¾å†…å®¹ -->
                <div class="device-main-content">
                    <!-- é¡µé¢æ ‡é¢˜ -->
                    <div class="device-page-header">
                        <h2 class="device-title" id="deviceTitle">å¤©é‚¦é…’ä¸šâ€”â€”å¤©é‚¦è“„çƒ­ç½</h2>
                    </div>

                    <!-- é¡µç­¾ -->
                    <div class="device-tabs">
                        <div class="device-tab active" data-tab="monitoring">å®æ—¶ç›‘æµ‹</div>
                        <div class="device-tab" data-tab="configuration">ç»„æ€</div>
                        <div class="device-tab" data-tab="alarm">å‘Šè­¦è®°å½•</div>
                        <div class="device-tab" data-tab="analysis">æ•°æ®åˆ†æ</div>
                    </div>

                    <!-- å®æ—¶ç›‘æµ‹é¡µç­¾å†…å®¹ -->
                    <div class="device-tab-content active" id="monitoringContent" data-device="tianbang-heat-tank">
                        <div class="monitoring-grid">
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µæµ1:</label>
                                <input type="text" class="monitoring-input" value="112" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µæµ2:</label>
                                <input type="text" class="monitoring-input" value="112" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µæµ3:</label>
                                <input type="text" class="monitoring-input" value="112" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µå‹1:</label>
                                <input type="text" class="monitoring-input" value="380" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µå‹2:</label>
                                <input type="text" class="monitoring-input" value="380" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µå‹3:</label>
                                <input type="text" class="monitoring-input" value="380" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">åŠŸç‡1:</label>
                                <input type="text" class="monitoring-input" value="42.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">åŠŸç‡2:</label>
                                <input type="text" class="monitoring-input" value="42.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">åŠŸç‡3:</label>
                                <input type="text" class="monitoring-input" value="42.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æ€»åŠŸç‡:</label>
                                <input type="text" class="monitoring-input" value="127.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">é”…ç‚‰æ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="85" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">å‡ºæ°´æ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="82" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">å›æ°´æ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="75" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">é”…ç‚‰å‹åŠ›:</label>
                                <input type="text" class="monitoring-input" value="0.6" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç³»ç»Ÿå‹åŠ›:</label>
                                <input type="text" class="monitoring-input" value="0.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æ°´ä½:</label>
                                <input type="text" class="monitoring-input" value="85" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æµé‡:</label>
                                <input type="text" class="monitoring-input" value="120" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">é¢‘ç‡1:</label>
                                <input type="text" class="monitoring-input" value="50" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">é¢‘ç‡2:</label>
                                <input type="text" class="monitoring-input" value="50" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">é¢‘ç‡3:</label>
                                <input type="text" class="monitoring-input" value="50" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">è¿è¡ŒçŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="è¿è¡Œä¸­" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">è¿è¡Œæ—¶é—´:</label>
                                <input type="text" class="monitoring-input" value="1250" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç´¯è®¡è¿è¡Œ:</label>
                                <input type="text" class="monitoring-input" value="3650" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æ•…éšœä»£ç :</label>
                                <input type="text" class="monitoring-input" value="æ— " readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æŠ¥è­¦çŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="æ­£å¸¸" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">èƒ½è€—ç»Ÿè®¡:</label>
                                <input type="text" class="monitoring-input" value="1250.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æ•ˆç‡:</label>
                                <input type="text" class="monitoring-input" value="95.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">PHå€¼:</label>
                                <input type="text" class="monitoring-input" value="7.2" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç”µå¯¼ç‡:</label>
                                <input type="text" class="monitoring-input" value="1200" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æº¶è§£æ°§:</label>
                                <input type="text" class="monitoring-input" value="8.5" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">çƒŸæ¸©:</label>
                                <input type="text" class="monitoring-input" value="180" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æ’çƒŸæ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="175" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">è¿›é£æ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="20" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">å‡ºé£æ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="85" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">å¾ªç¯æ³µçŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="è¿è¡Œ" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">è¡¥æ°´æ³µçŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="åœæ­¢" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">æ’æ±¡é˜€çŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="å…³é—­" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">å®‰å…¨é˜€çŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="æ­£å¸¸" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç‡ƒçƒ§å™¨çŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="è¿è¡Œ" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">ç»™æ°´é˜€çŠ¶æ€:</label>
                                <input type="text" class="monitoring-input" value="å¼€å¯" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">è’¸æ±½å‹åŠ›:</label>
                                <input type="text" class="monitoring-input" value="0.8" readonly>
                            </div>
                            <div class="monitoring-item">
                                <label class="monitoring-label">è’¸æ±½æ¸©åº¦:</label>
                                <input type="text" class="monitoring-input" value="120" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- ç»„æ€é¡µç­¾å†…å®¹ -->
                    <div class="device-tab-content" id="configurationContent" data-device="tianbang-heat-tank">
                        <div class="tab-placeholder">
                            <p>ç»„æ€é…ç½®å†…å®¹</p>
                        </div>
                    </div>

                    <!-- å‘Šè­¦è®°å½•é¡µç­¾å†…å®¹ -->
                    <div class="device-tab-content" id="alarmContent" data-device="tianbang-heat-tank">
                        <div class="tab-placeholder">
                            <p>å‘Šè­¦è®°å½•å†…å®¹</p>
                        </div>
                    </div>

                    <!-- æ•°æ®åˆ†æé¡µç­¾å†…å®¹ -->
                    <div class="device-tab-content" id="analysisContent" data-device="tianbang-heat-tank">
                        <div class="tab-placeholder">
                            <p>æ•°æ®åˆ†æå†…å®¹</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="footer-content">
            è±«ICPå¤‡05010380å·-5 | æ²³å—å¹³é«˜ç”µæ°”è‚¡ä»½æœ‰é™å…¬å¸
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // è®¾å¤‡æ£€æµ‹é¡µé¢ä¸“ç”¨è„šæœ¬
        document.addEventListener('DOMContentLoaded', function() {
            // é¡µç­¾åˆ‡æ¢
            const deviceTabs = document.querySelectorAll('.device-tab');
            const tabContents = document.querySelectorAll('.device-tab-content');
            
            deviceTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // ç§»é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
                    deviceTabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // æ¿€æ´»å½“å‰é¡µç­¾
                    this.classList.add('active');
                    document.getElementById(targetTab + 'Content').classList.add('active');
                });
            });
            
            // é¡¹ç›®å±•å¼€/æ”¶èµ·
            const projectHeaders = document.querySelectorAll('.device-project-header');
            projectHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const projectItem = this.closest('.device-project-item');
                    const toggle = this.querySelector('.device-project-toggle');
                    const children = projectItem.querySelector('.device-project-children');
                    
                    if (projectItem.classList.contains('expanded')) {
                        projectItem.classList.remove('expanded');
                        toggle.textContent = 'â–¶';
                        if (children) {
                            children.style.display = 'none';
                        }
                    } else {
                        projectItem.classList.add('expanded');
                        toggle.textContent = 'â–¼';
                        if (children) {
                            children.style.display = 'block';
                        }
                    }
                });
            });
            
            // è®¾å¤‡é¡¹ç‚¹å‡» - åˆ‡æ¢å³ä¾§é¡µç­¾æ•°æ®
            const deviceItems = document.querySelectorAll('.device-device-item');
            deviceItems.forEach(item => {
                item.addEventListener('click', function() {
                    deviceItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    // æ›´æ–°æ ‡é¢˜
                    const projectName = this.closest('.device-project-item').querySelector('.device-project-name').textContent;
                    const deviceName = this.getAttribute('data-device-name') || this.textContent;
                    document.getElementById('deviceTitle').textContent = projectName + 'â€”â€”' + deviceName;
                    
                    // è·å–è®¾å¤‡ID
                    const deviceId = this.getAttribute('data-device-id');
                    
                    // åˆ‡æ¢æ‰€æœ‰é¡µç­¾å†…å®¹çš„æ•°æ®
                    const tabContents = document.querySelectorAll('.device-tab-content');
                    tabContents.forEach(content => {
                        content.setAttribute('data-device', deviceId);
                        // è¿™é‡Œå¯ä»¥æ ¹æ®è®¾å¤‡IDåŠ è½½ä¸åŒçš„æ•°æ®
                        loadDeviceData(deviceId, content.id);
                    });
                });
            });
            
            // åŠ è½½è®¾å¤‡æ•°æ®çš„å‡½æ•°
            function loadDeviceData(deviceId, contentId) {
                // æ ¹æ®è®¾å¤‡IDå’Œå†…å®¹IDåŠ è½½å¯¹åº”çš„æ•°æ®
                console.log('åŠ è½½è®¾å¤‡æ•°æ®:', deviceId, contentId);
                
                // å¦‚æœæ˜¯å®æ—¶ç›‘æµ‹é¡µç­¾ï¼Œæ›´æ–°ç›‘æµ‹æ•°æ®
                if (contentId === 'monitoringContent') {
                    updateMonitoringData(deviceId);
                }
            }
            
            // æ›´æ–°å®æ—¶ç›‘æµ‹æ•°æ®
            function updateMonitoringData(deviceId) {
                // è¿™é‡Œå¯ä»¥æ ¹æ®ä¸åŒè®¾å¤‡æ˜¾ç¤ºä¸åŒçš„ç›‘æµ‹æ•°æ®
                const monitoringGrid = document.querySelector('#monitoringContent .monitoring-grid');
                if (!monitoringGrid) return;
            }
            
            // å‚æ•°é˜ˆå€¼å®šä¹‰ï¼ˆæ­£å¸¸èŒƒå›´ï¼‰
            const parameterThresholds = {
                'ç”µæµ1': { min: 0, max: 150, warning: 130, danger: 145 },
                'ç”µæµ2': { min: 0, max: 150, warning: 130, danger: 145 },
                'ç”µæµ3': { min: 0, max: 150, warning: 130, danger: 145 },
                'ç”µå‹1': { min: 350, max: 400, warning: 360, danger: 350 },
                'ç”µå‹2': { min: 350, max: 400, warning: 360, danger: 350 },
                'ç”µå‹3': { min: 350, max: 400, warning: 360, danger: 350 },
                'åŠŸç‡1': { min: 0, max: 50, warning: 45, danger: 48 },
                'åŠŸç‡2': { min: 0, max: 50, warning: 45, danger: 48 },
                'åŠŸç‡3': { min: 0, max: 50, warning: 45, danger: 48 },
                'æ€»åŠŸç‡': { min: 0, max: 150, warning: 135, danger: 144 },
                'é”…ç‚‰æ¸©åº¦': { min: 0, max: 100, warning: 90, danger: 95 },
                'å‡ºæ°´æ¸©åº¦': { min: 0, max: 90, warning: 85, danger: 88 },
                'å›æ°´æ¸©åº¦': { min: 0, max: 80, warning: 75, danger: 78 },
                'é”…ç‚‰å‹åŠ›': { min: 0, max: 1.0, warning: 0.8, danger: 0.9 },
                'ç³»ç»Ÿå‹åŠ›': { min: 0, max: 0.8, warning: 0.7, danger: 0.75 },
                'æ°´ä½': { min: 20, max: 100, warning: 30, danger: 25 },
                'æµé‡': { min: 0, max: 200, warning: 180, danger: 190 },
                'é¢‘ç‡1': { min: 48, max: 52, warning: 49, danger: 48 },
                'é¢‘ç‡2': { min: 48, max: 52, warning: 49, danger: 48 },
                'é¢‘ç‡3': { min: 48, max: 52, warning: 49, danger: 48 },
                'æ•ˆç‡': { min: 80, max: 100, warning: 85, danger: 82 },
                'PHå€¼': { min: 6.5, max: 8.5, warning: 7.0, danger: 6.8 },
                'ç”µå¯¼ç‡': { min: 0, max: 2000, warning: 1800, danger: 1900 },
                'æº¶è§£æ°§': { min: 5, max: 12, warning: 6, danger: 5.5 },
                'çƒŸæ¸©': { min: 0, max: 250, warning: 220, danger: 240 },
                'æ’çƒŸæ¸©åº¦': { min: 0, max: 200, warning: 180, danger: 190 },
                'è¿›é£æ¸©åº¦': { min: -10, max: 40, warning: 35, danger: 38 },
                'å‡ºé£æ¸©åº¦': { min: 0, max: 100, warning: 90, danger: 95 },
                'è’¸æ±½å‹åŠ›': { min: 0, max: 1.2, warning: 1.0, danger: 1.1 },
                'è’¸æ±½æ¸©åº¦': { min: 0, max: 150, warning: 130, danger: 140 }
            };
            
            // æ£€æŸ¥å‚æ•°æ˜¯å¦è¶…æ ‡å¹¶åº”ç”¨æ ·å¼
            function checkParameterStatus(label, value) {
                const threshold = parameterThresholds[label];
                if (!threshold) return 'normal';
                
                const numValue = parseFloat(value);
                if (isNaN(numValue)) return 'normal';
                
                // æ£€æŸ¥æ˜¯å¦è¶…å‡ºå±é™©å€¼ï¼ˆçº¢è‰²ï¼‰
                if (threshold.danger !== undefined) {
                    if (threshold.max !== undefined && numValue >= threshold.danger) {
                        return 'danger';
                    }
                    if (threshold.min !== undefined && numValue <= threshold.danger) {
                        return 'danger';
                    }
                }
                
                // æ£€æŸ¥æ˜¯å¦è¶…å‡ºè­¦å‘Šå€¼ï¼ˆé»„è‰²ï¼‰
                if (threshold.warning !== undefined) {
                    if (threshold.max !== undefined && numValue >= threshold.warning) {
                        return 'warning';
                    }
                    if (threshold.min !== undefined && numValue <= threshold.warning) {
                        return 'warning';
                    }
                }
                
                // æ£€æŸ¥æ˜¯å¦è¶…å‡ºæ­£å¸¸èŒƒå›´
                if (threshold.max !== undefined && numValue > threshold.max) {
                    return numValue >= threshold.max * 1.1 ? 'danger' : 'warning';
                }
                if (threshold.min !== undefined && numValue < threshold.min) {
                    return numValue <= threshold.min * 0.9 ? 'danger' : 'warning';
                }
                
                return 'normal';
            }
            
            // æ›´æ–°å‚æ•°çŠ¶æ€æ ·å¼
            function updateParameterStatus(item, label, value) {
                const status = checkParameterStatus(label, value);
                item.classList.remove('parameter-normal', 'parameter-warning', 'parameter-danger');
                item.classList.add('parameter-' + status);
            }
            
            // æ¨¡æ‹Ÿå‚æ•°å®æ—¶å˜åŒ–
            function simulateRealTimeData() {
                const monitoringItems = document.querySelectorAll('#monitoringContent .monitoring-item');
                
                monitoringItems.forEach(item => {
                    const label = item.querySelector('.monitoring-label').textContent.replace(':', '');
                    const input = item.querySelector('.monitoring-input');
                    const currentValue = parseFloat(input.value) || 0;
                    const threshold = parameterThresholds[label];
                    
                    if (!threshold) return;
                    
                    // ç”Ÿæˆéšæœºå˜åŒ–ï¼ˆåœ¨æ­£å¸¸èŒƒå›´å†…æ³¢åŠ¨ï¼‰
                    let newValue;
                    if (threshold.min !== undefined && threshold.max !== undefined) {
                        const range = threshold.max - threshold.min;
                        const variation = range * 0.05; // 5%çš„æ³¢åŠ¨
                        newValue = currentValue + (Math.random() - 0.5) * variation * 2;
                        
                        // å¶å°”ç”Ÿæˆè¶…æ ‡å€¼ï¼ˆ15%æ¦‚ç‡ï¼‰
                        if (Math.random() < 0.15) {
                            if (Math.random() < 0.5) {
                                // è¶…å‡ºä¸Šé™
                                newValue = threshold.max + Math.random() * (threshold.max * 0.2);
                            } else {
                                // ä½äºä¸‹é™
                                newValue = Math.max(0, threshold.min - Math.random() * (threshold.min * 0.2));
                            }
                        }
                        
                        // é™åˆ¶åœ¨åˆç†èŒƒå›´å†…
                        newValue = Math.max(threshold.min * 0.5, Math.min(threshold.max * 1.5, newValue));
                    } else {
                        // å¯¹äºæ²¡æœ‰æ˜ç¡®èŒƒå›´çš„å‚æ•°ï¼Œå°å¹…æ³¢åŠ¨
                        newValue = currentValue * (0.98 + Math.random() * 0.04);
                    }
                    
                    // æ ¼å¼åŒ–æ•°å€¼
                    if (label.includes('æ¸©åº¦') || label.includes('å‹åŠ›') || label.includes('PHå€¼') || label.includes('æ•ˆç‡')) {
                        newValue = newValue.toFixed(1);
                    } else if (label.includes('æ—¶é—´') || label.includes('è¿è¡Œ') || label.includes('ç»Ÿè®¡')) {
                        newValue = Math.round(newValue);
                    } else {
                        newValue = Math.round(newValue * 10) / 10;
                    }
                    
                    input.value = newValue;
                    updateParameterStatus(item, label, newValue);
                });
            }
            
            // å¯åŠ¨å®æ—¶æ•°æ®æ›´æ–°ï¼ˆæ¯2ç§’æ›´æ–°ä¸€æ¬¡ï¼‰
            let realTimeInterval = null;
            
            function startRealTimeMonitoring() {
                if (realTimeInterval) {
                    clearInterval(realTimeInterval);
                }
                realTimeInterval = setInterval(simulateRealTimeData, 2000);
            }
            
            function stopRealTimeMonitoring() {
                if (realTimeInterval) {
                    clearInterval(realTimeInterval);
                    realTimeInterval = null;
                }
            }
            
            // åˆå§‹åŒ–å®æ—¶ç›‘æµ‹
            const monitoringContent = document.getElementById('monitoringContent');
            if (monitoringContent) {
                // åˆå§‹åŒ–æ‰€æœ‰å‚æ•°çŠ¶æ€
                const monitoringItems = document.querySelectorAll('#monitoringContent .monitoring-item');
                monitoringItems.forEach(item => {
                    const label = item.querySelector('.monitoring-label').textContent.replace(':', '');
                    const input = item.querySelector('.monitoring-input');
                    updateParameterStatus(item, label, input.value);
                });
                
                // å¯åŠ¨å®æ—¶æ›´æ–°
                startRealTimeMonitoring();
                
                // å½“åˆ‡æ¢åˆ°å…¶ä»–é¡µç­¾æ—¶åœæ­¢æ›´æ–°
                deviceTabs.forEach(tab => {
                    tab.addEventListener('click', function() {
                        const targetTab = this.getAttribute('data-tab');
                        if (targetTab === 'monitoring') {
                            startRealTimeMonitoring();
                        } else {
                            stopRealTimeMonitoring();
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>

