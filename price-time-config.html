<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êô∫ÈÄâÊñπÊ°à - Áîµ‰ª∑Êó∂ÊÆµÈÖçÁΩÆ</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
    <header class="header">
        <div class="header-left">
            <button class="btn-collapse">¬´</button>
            <div class="logo">Êô∫ÈÄâÊñπÊ°à</div>
        </div>
        <div class="header-right">
            <div class="company-info">Ê≤≥ÂçóÂπ≥È´òÁîµÊ∞îËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏</div>
            <button class="btn-switch">ÂàáÊç¢‰ºÅ‰∏öÂ∑•‰ΩúÂè∞</button>
            <div class="header-icons">
                <span class="icon">üîç</span>
                <span class="icon">üí¨</span>
                <span class="icon">üîî</span>
                <div class="dropdown">
                    <span class="dropdown-trigger">Âπ≥È´ò ‚ñº</span>
                </div>
                <span class="icon">‚ãØ</span>
            </div>
            <button class="btn-collapse">¬ª</button>
        </div>
    </header>

    <div class="container">
        <!-- Â∑¶‰æßÂØºËà™Ê†è -->
        <aside class="sidebar">
            <div class="sidebar-title">Êô∫ÈÄâÊñπÊ°à</div>
            <nav class="sidebar-nav">
                <a href="index.html" class="nav-item">È°πÁõÆÁÆ°ÁêÜ</a>
                <a href="selection-report.html" class="nav-item">ÈÄâÂûãÊä•Ë°®</a>
                <a href="price-time-config.html" class="nav-item active">Áîµ‰ª∑Êó∂ÊÆµÈÖçÁΩÆ</a>
                <a href="#" class="nav-item">ËÆæÂ§áÂÖ®ÊôØÊô∫Êéß</a>
                <a href="device-detection.html" class="nav-item">ËÆæÂ§áÊ£ÄÊµã</a>
            </nav>
        </aside>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
        <main class="main-content price-config-wrapper">
            <!-- ÂÜÖÂÆπÂå∫ÔºöÂ∑¶Âè≥‰∏§ÈÉ®ÂàÜ -->
            <div class="price-config-content">
                <!-- Â∑¶‰æßÔºöÂú∞ÁêÜ‰ΩçÁΩÆÊ†ëÂΩ¢ËèúÂçï -->
                <aside class="price-config-sidebar">
                    <div class="tree-search">
                        <input type="text" placeholder="ËØ∑ËæìÂÖ•ÂÖ≥ÈîÆËØçÊü•ËØ¢" class="tree-search-input">
                    </div>
                    <div class="tree-menu" id="locationTree">
                        <!-- Âåó‰∫¨Â∏Ç -->
                        <div class="tree-node">
                            <div class="tree-node-item expanded" data-node="beijing">
                                <span class="tree-arrow">‚ñº</span>
                                <span class="tree-label">Âåó‰∫¨Â∏Ç</span>
                            </div>
                            <div class="tree-children">
                                <div class="tree-node-item active" data-node="beijing-districts">
                                    <span class="tree-label">Â∏ÇËæñÂå∫</span>
                                </div>
                                <div class="tree-node-item" data-node="beijing-counties">
                                    <span class="tree-label">Âéø</span>
                                </div>
                            </div>
                        </div>
                        <!-- Â§©Ê¥•Â∏Ç -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="tianjin">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">Â§©Ê¥•Â∏Ç</span>
                            </div>
                        </div>
                        <!-- Ê≤≥ÂåóÁúÅ -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="hebei">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">Ê≤≥ÂåóÁúÅ</span>
                            </div>
                        </div>
                        <!-- Â±±Ë•øÁúÅ -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="shanxi">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">Â±±Ë•øÁúÅ</span>
                            </div>
                        </div>
                        <!-- ÂÜÖËíôÂè§Ëá™Ê≤ªÂå∫ -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="neimenggu">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">ÂÜÖËíôÂè§Ëá™Ê≤ªÂå∫</span>
                            </div>
                        </div>
                        <!-- ËæΩÂÆÅÁúÅ -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="liaoning">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">ËæΩÂÆÅÁúÅ</span>
                            </div>
                        </div>
                        <!-- ÂêâÊûóÁúÅ -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="jilin">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">ÂêâÊûóÁúÅ</span>
                            </div>
                        </div>
                        <!-- ÈªëÈæôÊ±üÁúÅ -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="heilongjiang">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">ÈªëÈæôÊ±üÁúÅ</span>
                            </div>
                        </div>
                        <!-- ‰∏äÊµ∑Â∏Ç -->
                        <div class="tree-node">
                            <div class="tree-node-item" data-node="shanghai">
                                <span class="tree-arrow">‚ñ∂</span>
                                <span class="tree-label">‰∏äÊµ∑Â∏Ç</span>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Âè≥‰æßÔºöÁîµ‰ª∑Êó∂ÊÆµÈÖçÁΩÆË°®Ê†º -->
                <div class="price-config-main">
                    <!-- Êìç‰ΩúÊåâÈíÆÊ†è -->
                    <div class="price-config-actions">
                        <button class="btn-action btn-new">
                            <span class="btn-icon">+</span>
                            Êñ∞Âª∫
                        </button>
                        <button class="btn-action btn-reference">
                            <span class="btn-icon">‚Üó</span>
                            ÂºïÁî®
                        </button>
                        <button class="btn-action btn-edit">
                            <span class="btn-icon">‚úèÔ∏è</span>
                            ÁºñËæë
                        </button>
                        <button class="btn-action btn-delete">
                            <span class="btn-icon">üóëÔ∏è</span>
                            Âà†Èô§
                        </button>
                    </div>

                    <!-- Êï∞ÊçÆË°®Ê†º -->
                    <div class="price-config-table-wrapper">
                        <table class="price-config-table">
                            <thead>
                                <tr>
                                    <th>Â∫èÂè∑</th>
                                    <th>ÂêçÁß∞</th>
                                    <th>Êó∂ÊÆµÊó∂Èïø</th>
                                    <th>Áîµ‰ª∑ÔºàÂÖÉÔºâ</th>
                                </tr>
                            </thead>
                            <tbody id="priceConfigTableBody">
                                <tr>
                                    <td>1</td>
                                    <td>Â∞ñÂ≥∞</td>
                                    <td>00:00-01:00</td>
                                    <td>0.85</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Â≥∞Áîµ</td>
                                    <td>01:00-02:00</td>
                                    <td>0.65</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>Âπ≥Áîµ</td>
                                    <td>02:00-00:00</td>
                                    <td>0.45</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
    <script>
        // Áîµ‰ª∑Êó∂ÊÆµÈÖçÁΩÆÈ°µÈù¢‰∏ìÁî®ËÑöÊú¨
        document.addEventListener('DOMContentLoaded', function() {
            // Ê†ëÂΩ¢ËèúÂçïÂ±ïÂºÄ/ÊäòÂè†ÂäüËÉΩ
            const treeNodes = document.querySelectorAll('.tree-node-item[data-node]');
            treeNodes.forEach(node => {
                node.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const parentNode = this.closest('.tree-node');
                    const children = parentNode.querySelector('.tree-children');
                    
                    if (children) {
                        // ÊúâÂ≠êËäÇÁÇπÔºåÂàáÊç¢Â±ïÂºÄ/ÊäòÂè†
                        if (this.classList.contains('expanded')) {
                            this.classList.remove('expanded');
                            this.querySelector('.tree-arrow').textContent = '‚ñ∂';
                            children.style.display = 'none';
                        } else {
                            this.classList.add('expanded');
                            this.querySelector('.tree-arrow').textContent = '‚ñº';
                            children.style.display = 'block';
                        }
                    } else {
                        // Ê≤°ÊúâÂ≠êËäÇÁÇπÔºåÈÄâ‰∏≠ËØ•È°π
                        document.querySelectorAll('.tree-node-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        this.classList.add('active');
                    }
                });
            });

            // ÊêúÁ¥¢ÂäüËÉΩ
            const searchInput = document.querySelector('.tree-search-input');
            if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                    const keyword = e.target.value.toLowerCase();
                    const allNodes = document.querySelectorAll('.tree-node-item');
                    
                    allNodes.forEach(node => {
                        const label = node.querySelector('.tree-label').textContent.toLowerCase();
                        const treeNode = node.closest('.tree-node');
                        
                        if (keyword === '' || label.includes(keyword)) {
                            treeNode.style.display = 'block';
                        } else {
                            treeNode.style.display = 'none';
                        }
                    });
                });
            }

            // Ë°®Ê†ºË°åÈÄâ‰∏≠ÂäüËÉΩ
            const tableRows = document.querySelectorAll('#priceConfigTableBody tr');
            tableRows.forEach(row => {
                row.addEventListener('click', function() {
                    tableRows.forEach(r => r.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });

            // Êìç‰ΩúÊåâÈíÆ‰∫ã‰ª∂
            const btnNew = document.querySelector('.btn-new');
            const btnReference = document.querySelector('.btn-reference');
            const btnEdit = document.querySelector('.btn-edit');
            const btnDelete = document.querySelector('.btn-delete');

            if (btnNew) {
                btnNew.addEventListener('click', function() {
                    alert('Êñ∞Âª∫ÂäüËÉΩÂæÖÂÆûÁé∞');
                });
            }

            if (btnReference) {
                btnReference.addEventListener('click', function() {
                    alert('ÂºïÁî®ÂäüËÉΩÂæÖÂÆûÁé∞');
                });
            }

            if (btnEdit) {
                btnEdit.addEventListener('click', function() {
                    const selectedRow = document.querySelector('#priceConfigTableBody tr.selected');
                    if (selectedRow) {
                        alert('ÁºñËæëÂäüËÉΩÂæÖÂÆûÁé∞');
                    } else {
                        alert('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÁºñËæëÁöÑË°å');
                    }
                });
            }

            if (btnDelete) {
                btnDelete.addEventListener('click', function() {
                    const selectedRow = document.querySelector('#priceConfigTableBody tr.selected');
                    if (selectedRow) {
                        if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§ÈÄâ‰∏≠ÁöÑËÆ∞ÂΩïÂêóÔºü')) {
                            selectedRow.remove();
                            // ÈáçÊñ∞ÁºñÂè∑
                            const rows = document.querySelectorAll('#priceConfigTableBody tr');
                            rows.forEach((row, index) => {
                                row.querySelector('td:first-child').textContent = index + 1;
                            });
                        }
                    } else {
                        alert('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂà†Èô§ÁöÑË°å');
                    }
                });
            }
        });
    </script>
</body>
</html>

